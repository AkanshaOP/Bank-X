"use strict";const O=[["Aztec","M"],["Codabar","L"],["Code39","L"],["Code93","L"],["Code128","L"],["DataBar","L"],["DataBarExpanded","L"],["DataMatrix","M"],["EAN-8","L"],["EAN-13","L"],["ITF","L"],["MaxiCode","M"],["PDF417","M"],["QRCode","M"],["UPC-A","L"],["UPC-E","L"],["MicroQRCode","M"],["rMQRCode","M"],["DXFilmEdge","L"],["DataBarLimited","L"]],f=O.map(([e])=>e),M=f.filter((e,t)=>O[t][1]==="L"),C=f.filter((e,t)=>O[t][1]==="M");function l(e){switch(e){case"Linear-Codes":return M.reduce((t,r)=>t|l(r),0);case"Matrix-Codes":return C.reduce((t,r)=>t|l(r),0);case"Any":return(1<<O.length)-1;case"None":return 0;default:return 1<<f.indexOf(e)}}function x(e){if(e===0)return"None";const t=31-Math.clz32(e);return f[t]}function L(e){return e.reduce((t,r)=>t|l(r),0)}const F=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"];function T(e){return F.indexOf(e)}const y=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"];function w(e){return e==="UnicodeBig"?y.indexOf("UTF16BE"):y.indexOf(e)}const g=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function A(e){return g[e]}const B=["Ignore","Read","Require"];function R(e){return B.indexOf(e)}const b=["Plain","ECI","HRI","Hex","Escaped"];function U(e){return b.indexOf(e)}const m={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,tryDenoise:!1,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!0,returnErrors:!1,eanAddOnSymbol:"Ignore",textMode:"HRI",characterSet:"Unknown"};function S(e){return{...e,formats:L(e.formats),binarizer:T(e.binarizer),eanAddOnSymbol:R(e.eanAddOnSymbol),textMode:U(e.textMode),characterSet:w(e.characterSet)}}const I={format:"QRCode",readerInit:!1,forceSquareDataMatrix:!1,ecLevel:"",scale:0,sizeHint:0,rotate:0,withHRT:!1,withQuietZones:!0};function P(e){return{...e,format:l(e.format)}}function W(e){return{...e,format:x(e.format),contentType:A(e.contentType),eccLevel:e.ecLevel}}function h(e){var t;return{...e,image:(t=e.image&&new Blob([new Uint8Array(e.image)],{type:"image/png"}))!=null?t:null}}const z="2.0.1",D="7be9048e8176fba4f6ffa3dcf528282c6b0151a9",N={locateFile:(e,t)=>{const r=e.match(/_(.+?)\.wasm$/);return r?`https://fastly.jsdelivr.net/npm/zxing-wasm@2.0.1/dist/${r[1]}/${e}`:t+e}},u=new WeakMap;function X(e,t){return Object.is(e,t)||Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(r=>Object.prototype.hasOwnProperty.call(t,r)&&e[r]===t[r])}function _(e,{overrides:t,equalityFn:r=X,fireImmediately:s=!1}={}){var c;const[o,a]=(c=u.get(e))!=null?c:[N],n=t!=null?t:o;let i;if(s){if(a&&(i=r(o,n)))return a;const d=e({...n});return u.set(e,[n,d]),d}(i!=null?i:r(o,n))||u.set(e,[n])}function Z(e){u.delete(e)}async function H(e,t,r=m){const s={...m,...r},o=await _(e,{fireImmediately:!0});let a,n;if("size"in t){const{size:c}=t,d=new Uint8Array(await t.arrayBuffer());n=o._malloc(c),o.HEAPU8.set(d,n),a=o.readBarcodesFromImage(n,c,S(s))}else{const{data:c,data:{byteLength:d},width:p,height:E}=t;n=o._malloc(d),o.HEAPU8.set(c,n),a=o.readBarcodesFromPixmap(n,p,E,S(s))}o._free(n);const i=[];for(let c=0;c<a.size();++c)i.push(W(a.get(c)));return i}async function G(e,t,r=I){const s={...I,...r},o=P(s),a=await _(e,{fireImmediately:!0});if(typeof t=="string")return h(a.writeBarcodeFromText(t,o));const{byteLength:n}=t,i=a._malloc(n);a.HEAPU8.set(t,i);const c=a.writeBarcodeFromBytes(i,n,o);return a._free(i),h(c)}const v={...m,formats:[...m.formats]},j={...I};exports.ZXING_CPP_COMMIT=D;exports.ZXING_WASM_VERSION=z;exports.barcodeFormats=f;exports.binarizers=F;exports.characterSets=y;exports.contentTypes=g;exports.defaultReaderOptions=v;exports.defaultWriterOptions=j;exports.eanAddOnSymbols=B;exports.linearBarcodeFormats=M;exports.matrixBarcodeFormats=C;exports.prepareZXingModuleWithFactory=_;exports.purgeZXingModuleWithFactory=Z;exports.readBarcodesWithFactory=H;exports.textModes=b;exports.writeBarcodeWithFactory=G;
